"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor}var scriptInit=function(){var ScriptInit=function(){function ScriptInit(){_classCallCheck(this,ScriptInit)}_createClass(ScriptInit,[{key:"addAction",value:function addAction(callback,settings){for(var _len=arguments.length,args=new Array(_len>2?_len-2:0),_key=2;_key<_len;_key++){args[_key-2]=arguments[_key]}var _settings$initTime=settings.initTime,initTime=_settings$initTime===void 0?"now":_settings$initTime,_settings$scrollEleme=settings.scrollElement,scrollElement=_settings$scrollEleme===void 0?null:_settings$scrollEleme,_settings$scrollDelay=settings.scrollDelayTime,scrollDelayTime=_settings$scrollDelay===void 0?300:_settings$scrollDelay,_settings$timeoutMSec=settings.timeoutMSec,timeoutMSec=_settings$timeoutMSec===void 0?1000:_settings$timeoutMSec,_settings$stock=settings.stock,stock=_settings$stock===void 0?1500:_settings$stock,scrollToElem,timer,_handler;switch(initTime){case"now":callback(args);break;case"scroll":try{if(initTime==="scroll"&&scrollElement===null||scrollElement===undefined){throw new Error("\u041F\u0430\u0440\u0430\u043C\u0435\u0442\u0440 \"scrollElement\" \u044F\u0432\u043B\u044F\u0435\u0442\u0441\u044F \u043E\u0431\u044F\u0437\u0430\u0442\u0435\u043B\u044C\u043D\u044B\u043C")}else if(typeof scrollElement==="string"){scrollToElem=document.querySelector(scrollElement).offsetTop}else if(scrollElement instanceof HTMLElement){scrollToElem=scrollElement.offsetTop}else{throw new Error("\u041F\u0430\u0440\u0430\u043C\u0435\u0442\u0440 \"scrollElement\" \u0438\u043C\u0435\u0435\u0442 \u043D\u0435\u0434\u043E\u043F\u0443\u0441\u0442\u0438\u043C\u043E\u0435 \u0437\u043D\u0430\u0447\u0435\u043D\u0438\u0435")}}catch(e){console.error(e.message)};_handler=function handler(){if(timer!==undefined){clearTimeout(timer)}timer=window.setTimeout(function(){if(window.pageYOffset+stock>=scrollToElem){callback(args);window.removeEventListener("scroll",_handler)}},scrollDelayTime)};window.addEventListener("scroll",_handler);break;case"setTimeout":window.setTimeout(function(){callback(args)},timeoutMSec);break;default:callback(args);}return this}}]);return ScriptInit}();return ScriptInit}();